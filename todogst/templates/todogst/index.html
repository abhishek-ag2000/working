{% extends "clouderp/base_2.html" %}
{% load staticfiles %}

{% block title %}Todo List{% endblock %}

{% block content %}

<div class="row wrapper border-bottom white-bg page-heading">
            <div class="col-lg-12">
                <h2>Todo List</h2>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="{% url 'ecommerce_integration:productlist' %}">Products</a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="{% url 'userprofile:social' %}">Social wall</a>
                    </li>
                    <li class="breadcrumb-item active">
                        <strong>Todo List</strong>
                    </li>
                </ol>
                <br>
            </div>
</div>

<div class="wrapper wrapper-content  animated fadeInRight">

        <div class="row">
            <div class="col-lg-12">
            <div class="ibox">
                <div class="ibox-content">
                    <h2>WHAT DO YOU WANT TO DO TODAY?</h2>
                    
                  <form action="{% url 'todogst:add' %}" method="POST" class="form-horizontal">
                    {% csrf_token %}


                    <div class="form-group row">
                         

                          
                          <label for="input" class="col-sm-2 control-label">Enter Task</label>
                          
                            <div class="col-sm-10">
                                  
                                {{ form.text.errors }}
                                {{ form.text }}
                              
                            </div>
                         
                        </div>

                          <br>

                          <div class="form-group row">
                          <label for="input" class="col-sm-2 control-label">Todo completion Date</label>
                          
                            <div class="col-sm-10">
                                  
                                {{ form.complete_by.errors }}
                                {{ form.complete_by }}
                              
                            </div>
                          </div>

                            <div class="form-group row">
                                    <center><button type="submit" class="btn btn-info btn-lg pull-right" value="Submit">Add</button></center>
  
                            </div>
                           
                      </form>
        
                </div>

            </div>

            </div>
        </div>

{% if todo_list %}
        <div class="row">
            <div class="col-lg-12">
            <div class="ibox">
                <div class="ibox-content">
                    <h2>TODO List</h2>
                    
                    <ul class="todo-list m-t">
                    {% for todo in todo_list %}
                        {% if todo.complete %}
                            <li>
                                <i class="fa fa-ellipsis-v"></i>
                                <i class="fa fa-ellipsis-v"></i>
                                <i class="fa fa-check" style="color: #008000;text-shadow: 1px 1px 1px #ccc;"></i>
                                <span class="m-l-xs">Done</span>
                                <span class="m-l-xs">{{todo.text}}</span>
                                <!-- <small class="label label-primary"><i class="fa fa-clock-o"></i> 1 mins</small> -->
                            </li>
                        {% else %}
                            <li>
                                <i class="fa fa-ellipsis-v"></i>
                                <i class="fa fa-ellipsis-v"></i>
                                <i class="fa fa-times" style="color: #FF0000;text-shadow: 1px 1px 1px #ccc;"></i>
                                <span class="m-l-xs"> Not Done</span>
                                <span class="m-l-xs"><a href="{% url 'todogst:complete' todo.id %}"><span class="text">{{todo.text}}</span></a></span>
                                {% if todo.daysince > 0 %}
                                    {% if todo.daysince >= 60 and todo.daysince <= 80 %}
                                        <small class="label label-success"><i class="fa fa-clock-o"></i> {{ todo.daysince }} days left</small>
                                    {% elif todo.daysince >= 80 %}
                                        <small class="label label-primary"><i class="fa fa-clock-o"></i> {{ todo.daysince }} days left</small>
                                    {% elif todo.daysince >= 10 and todo.daysince <= 60 %}
                                        <small class="label label-warning"><i class="fa fa-clock-o"></i> {{ todo.daysince }} days left</small>
                                    {% elif todo.daysince <= 10 %}
                                        <small class="label label-danger"><i class="fa fa-clock-o"></i> {{ todo.daysince }} days left</small>
                                    {% else %}
                                        <small class="label label-danger"><i class="fa fa-clock-o"></i> {{ todo.daysince }} days left</small>
                                    {% endif %}
                                {% endif %}
                            </li>
                        {% endif %}
                    {% endfor %}

                    </ul>
                    <br>
                    <a class="btn btn-sm btn-warning" href="{% url 'todogst:deletecomplete' %}"><i class="glyphicon glyphicon-trash"></i> DELETE COMPLETED</a>

                    <a class="btn btn-sm btn-danger" href="{% url 'todogst:deleteall' %}"><i class="glyphicon glyphicon-trash"></i> DELETE ALL</a>
                </div>

            </div>

            </div>
        </div>
    {% endif %}

</div>   

{% endblock %}